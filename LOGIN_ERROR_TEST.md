# اختبار أخطاء تسجيل الدخول

## السيناريوهات المختلفة:

### 1. ✅ تسجيل دخول ناجح

#### البيانات:
- الإيميل: `existing@example.com`
- كلمة المرور: `123456`

#### النتيجة:
- تسجيل دخول ناجح
- إعادة توجيه للوحة التحكم
- لا تظهر رسائل خطأ

---

### 2. ❌ الإيميل غير مسجل في النظام

#### البيانات:
- الإيميل: `nonexistent@example.com`
- كلمة المرور: `123456`

#### النتيجة:
- رسالة خطأ: "البريد الإلكتروني غير مسجل في النظام"
- لون أحمر
- عدم إعادة توجيه

---

### 3. ❌ كلمة المرور خاطئة

#### البيانات:
- الإيميل: `existing@example.com`
- كلمة المرور: `wrongpassword`

#### النتيجة:
- رسالة خطأ: "كلمة المرور غير صحيحة"
- لون أحمر
- عدم إعادة توجيه

---

### 4. ⚠️ إيميل بصيغة خاطئة

#### البيانات:
- الإيميل: `invalid-email`
- كلمة المرور: `123456`

#### النتيجة:
- رسالة خطأ: "Please enter a valid email"
- لا يتم إرسال طلب للباك إند

---

### 5. ⚠️ حقل فارغ

#### البيانات:
- الإيميل: (فارغ)
- كلمة المرور: (فارغ)

#### النتيجة:
- رسالة خطأ: "Email is required"
- رسالة خطأ: "Password is required"
- لا يتم إرسال طلب للباك إند

---

### 6. ❌ مشكلة في الاتصال

#### النتيجة:
- رسالة خطأ: "لا يمكن الاتصال بالخادم. يرجى التحقق من اتصال الإنترنت."

---

## كيفية الاختبار:

### الخطوات:
1. شغل التطبيق: `npm start`
2. اذهب إلى: `http://localhost:4200/login`

### اختبار السيناريوهات:

#### اختبار 1: إيميل غير مسجل
```
الإيميل: nonexistent@example.com
كلمة المرور: 123456
النتيجة المتوقعة: "البريد الإلكتروني غير مسجل في النظام"
```

#### اختبار 2: كلمة مرور خاطئة
```
الإيميل: existing@example.com
كلمة المرور: wrongpassword
النتيجة المتوقعة: "كلمة المرور غير صحيحة"
```

#### اختبار 3: إيميل بصيغة خاطئة
```
الإيميل: invalid-email
كلمة المرور: 123456
النتيجة المتوقعة: "Please enter a valid email"
```

#### اختبار 4: تسجيل دخول ناجح
```
الإيميل: existing@example.com
كلمة المرور: correctpassword
النتيجة المتوقعة: إعادة توجيه للوحة التحكم
```

## رسائل الخطأ المختلفة:

| الحالة | رسالة الخطأ | اللون |
|--------|-------------|-------|
| تسجيل دخول ناجح | - | - |
| إيميل غير مسجل | "البريد الإلكتروني غير مسجل في النظام" | أحمر |
| كلمة مرور خاطئة | "كلمة المرور غير صحيحة" | أحمر |
| إيميل بصيغة خاطئة | "Please enter a valid email" | أحمر |
| حقل فارغ | "Email is required" / "Password is required" | أحمر |
| مشكلة في الاتصال | "لا يمكن الاتصال بالخادم..." | أحمر |

## السجلات في Console:

### نجاح:
```
Sending login request: {email: "existing@example.com"}
AuthService - Login Request: {email: "existing@example.com"}
Login success: {email: "...", token: "...", roles: [...]}
```

### خطأ:
```
Sending login request: {email: "nonexistent@example.com"}
AuthService - Login Request: {email: "nonexistent@example.com"}
AuthService - Login error: [Error details]
Login error: [Error details]
```

## ملاحظات مهمة:

- ✅ رسائل خطأ واضحة ومحددة
- ✅ الإيميل غير المسجل يظهر رسالة خاصة
- ✅ كلمة المرور الخاطئة تظهر رسالة خاصة
- ✅ التحقق من صحة الإيميل في الفرونت إند
- ✅ رسائل الخطأ باللون الأحمر 